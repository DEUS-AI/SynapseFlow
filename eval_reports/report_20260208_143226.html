<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pytest Evaluation Run - Evaluation Report</title>
    <style>
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { text-align: center; margin-bottom: 30px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; margin-bottom: 10px; }
        h2 { color: #34495e; margin: 20px 0 15px; padding-bottom: 10px; border-bottom: 2px solid #eee; }
        h3 { color: #7f8c8d; margin: 15px 0 10px; }
        .timestamp { color: #7f8c8d; font-size: 0.9em; }
        .summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .summary-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center; }
        .summary-card.success { border-left: 4px solid #27ae60; }
        .summary-card.danger { border-left: 4px solid #e74c3c; }
        .summary-card.info { border-left: 4px solid #3498db; }
        .summary-card .value { font-size: 2.5em; font-weight: bold; color: #2c3e50; }
        .summary-card .label { color: #7f8c8d; font-size: 0.9em; }
        .progress-bar { height: 10px; background: #ecf0f1; border-radius: 5px; overflow: hidden; margin-top: 10px; }
        .progress-bar .fill { height: 100%; border-radius: 5px; transition: width 0.3s; }
        .progress-bar .fill.success { background: #27ae60; }
        .progress-bar .fill.danger { background: #e74c3c; }
        .section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .badge { display: inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; }
        .badge.pass { background: #d4edda; color: #155724; }
        .badge.fail { background: #f8d7da; color: #721c24; }
        .badge.critical { background: #721c24; color: white; }
        .badge.high { background: #e74c3c; color: white; }
        .badge.medium { background: #f39c12; color: white; }
        .badge.low { background: #3498db; color: white; }
        .scenario { border: 1px solid #eee; border-radius: 8px; margin-bottom: 15px; overflow: hidden; }
        .scenario-header { padding: 15px; background: #f8f9fa; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .scenario-header:hover { background: #e9ecef; }
        .scenario.failed .scenario-header { background: #fff5f5; }
        .scenario-body { padding: 15px; display: none; border-top: 1px solid #eee; }
        .scenario.expanded .scenario-body { display: block; }
        .turn { padding: 10px; margin: 10px 0; background: #f8f9fa; border-radius: 4px; }
        .turn.failed { background: #fff5f5; border-left: 3px solid #e74c3c; }
        .message { margin: 5px 0; padding: 8px; background: white; border-radius: 4px; }
        .message.patient { border-left: 3px solid #3498db; }
        .message.agent { border-left: 3px solid #27ae60; }
        .assertion { padding: 8px; margin: 5px 0; border-radius: 4px; font-size: 0.9em; }
        .assertion.passed { background: #d4edda; }
        .assertion.failed { background: #f8d7da; }
        .details { color: #666; font-size: 0.85em; margin-top: 5px; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: #f8f9fa; font-weight: 600; }
        footer { text-align: center; padding: 20px; color: #7f8c8d; font-size: 0.9em; }
        .toggle-all { cursor: pointer; color: #3498db; font-size: 0.9em; }
        
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Pytest Evaluation Run</h1>
            <p class="timestamp">Generated: 2026-02-08 14:32:26 UTC</p>
        </header>

        
        <div class="summary">
            <div class="summary-card success">
                <div class="value">6/6</div>
                <div class="label">Scenarios Passed</div>
                <div class="progress-bar">
                    <div class="fill success" style="width: 100.0%"></div>
                </div>
            </div>
            <div class="summary-card info">
                <div class="value">100.0%</div>
                <div class="label">Pass Rate</div>
            </div>
            <div class="summary-card info">
                <div class="value">51</div>
                <div class="label">Total Assertions</div>
            </div>
            <div class="summary-card success">
                <div class="value">0</div>
                <div class="label">Failed Assertions</div>
            </div>
            <div class="summary-card info">
                <div class="value">141.6s</div>
                <div class="label">Total Duration</div>
            </div>
        </div>
        
        
        <div class="section">
            <h2>Results by Category</h2>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Total</th>
                        <th>Passed</th>
                        <th>Failed</th>
                        <th>Pass Rate</th>
                    </tr>
                </thead>
                <tbody>
                    
            <tr>
                <td>entity_extraction</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td>100.0%</td>
            </tr>
            
            <tr>
                <td>memory_pollution</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td>100.0%</td>
            </tr>
            
            <tr>
                <td>regression</td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td>100.0%</td>
            </tr>
            
            <tr>
                <td>temporal_reasoning</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td>100.0%</td>
            </tr>
            
                </tbody>
            </table>
        </div>
        
        
        <div class="section">
            <h2>Results by Severity</h2>
            <table>
                <thead>
                    <tr>
                        <th>Severity</th>
                        <th>Total</th>
                        <th>Passed</th>
                        <th>Failed</th>
                    </tr>
                </thead>
                <tbody>
                    
            <tr>
                <td><span class="badge critical">CRITICAL</span></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
            </tr>
            
            <tr>
                <td><span class="badge high">HIGH</span></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
            </tr>
            
            <tr>
                <td><span class="badge medium">MEDIUM</span></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
            </tr>
            
                </tbody>
            </table>
        </div>
        
        
            <div class="section">
                <h2>Failed Scenarios</h2>
                <p style="color: #27ae60; text-align: center; padding: 20px;">
                    All scenarios passed!
                </p>
            </div>
            
        
        <div class="section">
            <h2>All Scenarios (6)</h2>
            <p class="toggle-all" onclick="toggleAll()">Expand/Collapse All</p>
            
        <div class="scenario  ">
            <div class="scenario-header">
                <div>
                    <strong>Muriel Typo Medication Bug</strong>
                    <span style="color: #7f8c8d; margin-left: 10px;">muriel_bug_regression</span>
                </div>
                <div>
                    <span class="badge critical">CRITICAL</span>
                    <span class="badge pass">PASS</span>
                    <span style="color: #7f8c8d; margin-left: 10px;">19.25s</span>
                </div>
            </div>
            <div class="scenario-body">
                <p><strong>Category:</strong> regression</p>
                
                
        <div class="turn ">
            <h4>Turn 1 (10375ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Estoy tomando Muriel para mi problema de estómago
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que estás tomando Muriel para un problema de estómago y espero que estés sintiéndote mejor. Es importante asegurarnos de que este medicamento sea adecuado para ti. ¿Podrías decirme si tienes alguna otra condición médica o si estás...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[must_not_contain]</strong> Agent must not confirm Muriel as a valid medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain]</strong> Agent should ask a clarifying question about the unknown medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: clarification_request (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Muriel is a typo, not a valid medication - must not be stored
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Any variation of Muriel should not be stored
                <div class="details"></div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 2 (8226ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Perdón, quise decir Omeprazol
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Gracias por aclarar que te referías a Omeprazol. Es un medicamento comúnmente utilizado para tratar problemas relacionados con el ácido estomacal, como el reflujo gastroesofágico. Si estás considerando tomarlo, es importante saber que gene...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: medication_acknowledgment (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Even after correction, Muriel should never have been stored
                <div class="details"></div>
            </div>
            
        </div>
        
            </div>
        </div>
        
        <div class="scenario  ">
            <div class="scenario-header">
                <div>
                    <strong>Gibberish Input Handling</strong>
                    <span style="color: #7f8c8d; margin-left: 10px;">gibberish_rejection</span>
                </div>
                <div>
                    <span class="badge high">HIGH</span>
                    <span class="badge pass">PASS</span>
                    <span style="color: #7f8c8d; margin-left: 10px;">33.45s</span>
                </div>
            </div>
            <div class="scenario-body">
                <p><strong>Category:</strong> memory_pollution</p>
                
                
        <div class="turn ">
            <h4>Turn 1 (24231ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Estoy tomando asdfghjk de 500 xyzwq
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='¡Hola! Soy Matucha, tu compañera de salud. ¿En qué puedo ayudarte hoy?', confidence=0.9, sources=[], related_concepts=[], reasoning_trail=['Conversation mode: casual_chat', 'Conversation turn: 1'], query_time_seconds=19.912199, medical_alerts=[], routing={'intent': 'exploratory'...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response even to confusing input
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_not_contain]</strong> Agent must not confirm gibberish as valid medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: gibberish_handling (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Gibberish should never be stored as an entity
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Any variation of gibberish patterns should not be stored
                <div class="details"></div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 2 (8805ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Perdona, me equivoqué. Tomo Atorvastatina
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Gracias por aclarar que estás tomando Atorvastatina. Es importante asegurarse de que la información sobre los medicamentos sea correcta. Atorvastatina se utiliza para ayudar a reducir el colesterol y prevenir problemas cardiovasculares. \n...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain_one_of]</strong> Agent should acknowledge the valid medication
                <div class="details">Found: ['Atorvastatina', 'atorvastatina', 'medicamento', 'colesterol']</div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: medication_acknowledgment (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Gibberish should never be stored, even after correction
                <div class="details"></div>
            </div>
            
        </div>
        
            </div>
        </div>
        
        <div class="scenario  ">
            <div class="scenario-header">
                <div>
                    <strong>Basic Medication Response</strong>
                    <span style="color: #7f8c8d; margin-left: 10px;">basic_medication_response</span>
                </div>
                <div>
                    <span class="badge high">HIGH</span>
                    <span class="badge pass">PASS</span>
                    <span style="color: #7f8c8d; margin-left: 10px;">22.70s</span>
                </div>
            </div>
            <div class="scenario-body">
                <p><strong>Category:</strong> entity_extraction</p>
                
                
        <div class="turn ">
            <h4>Turn 1 (13242ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Estoy tomando Ibuprofeno de 400mg cada 8 horas para el dolor de cabeza
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que estás tomando ibuprofeno para manejar el dolor de cabeza. Es importante asegurarse de que estás utilizando la dosis correcta y durante un tiempo adecuado. El ibuprofeno puede ser eficaz para el alivio del dolor, pero tomarlo p...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent should provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain_one_of]</strong> Agent should acknowledge the medication context
                <div class="details">Found: ['Ibuprofeno', 'ibuprofeno', 'medicamento', 'dolor']</div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: medication_acknowledgment (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 2 (9002ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> También tomo Paracetamol cuando el dolor es muy fuerte
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que estás utilizando Paracetamol para manejar el dolor. Es importante asegurarse de que estás tomando la dosis correcta, ya que tomar más de lo recomendado puede ser perjudicial para el hígado. Generalmente, el límite es de 4,000 ...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent should provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain_one_of]</strong> Agent should acknowledge the additional medication
                <div class="details">Found: ['Paracetamol', 'paracetamol', 'medicamento', 'dolor']</div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: safety (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
        </div>
        
            </div>
        </div>
        
        <div class="scenario  ">
            <div class="scenario-header">
                <div>
                    <strong>Past vs Current Medication Distinction</strong>
                    <span style="color: #7f8c8d; margin-left: 10px;">past_medication_reasoning</span>
                </div>
                <div>
                    <span class="badge medium">MEDIUM</span>
                    <span class="badge pass">PASS</span>
                    <span style="color: #7f8c8d; margin-left: 10px;">27.82s</span>
                </div>
            </div>
            <div class="scenario-body">
                <p><strong>Category:</strong> temporal_reasoning</p>
                
                
        <div class="turn ">
            <h4>Turn 1 (10755ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Antes tomaba Glibenclamida pero ahora solo tomo Metformina para la diabetes
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que has cambiado de Glibenclamida a Metformina para manejar tu diabetes. Es importante que cualquier cambio en la medicación se haga bajo la supervisión de un médico, ya que cada medicamento actúa de manera diferente. La Metformin...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent should respond to the medication update
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain_one_of]</strong> Agent should acknowledge medication context
                <div class="details">Found: ['Metformina', 'metformina', 'diabetes', 'medicamento']</div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: temporal_understanding (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 2 (7380ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Dejé de tomar Losartán hace 2 semanas porque me daba mareos
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Lamento escuchar que has estado experimentando mareos con Losartán. Es importante que te sientas bien con tu medicación. Los mareos pueden ser un efecto secundario de Losartán, pero dejar de tomarlo sin consultar a un médico puede afectar ...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent should respond
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain_one_of]</strong> Agent should acknowledge the discontinuation
                <div class="details">Found: ['Losartán', 'losartán', 'mareo', 'efecto']</div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: discontinuation_handling (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 3 (9240ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Ahora el doctor me recetó Enalapril en lugar del Losartán
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Es comprensible que te preguntes sobre el cambio de medicación de Losartán a Enalapril. Ambos medicamentos son utilizados para tratar la presión arterial alta, aunque pertenecen a diferentes clases de medicamentos. Enalapril es un inhibido...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent should respond
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain_one_of]</strong> Agent should acknowledge the new medication
                <div class="details">Found: ['Enalapril', 'enalapril', 'medicamento']</div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: medication_acknowledgment (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
        </div>
        
            </div>
        </div>
        
        <div class="scenario  ">
            <div class="scenario-header">
                <div>
                    <strong>Muriel Typo Medication Bug</strong>
                    <span style="color: #7f8c8d; margin-left: 10px;">muriel_bug_regression</span>
                </div>
                <div>
                    <span class="badge critical">CRITICAL</span>
                    <span class="badge pass">PASS</span>
                    <span style="color: #7f8c8d; margin-left: 10px;">21.14s</span>
                </div>
            </div>
            <div class="scenario-body">
                <p><strong>Category:</strong> regression</p>
                
                
        <div class="turn ">
            <h4>Turn 1 (14004ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Estoy tomando Muriel para mi problema de estómago
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que estás tomando Muriel para un problema de estómago. Espero que te sientas mejor pronto. Es importante asegurarse de que este medicamento sea adecuado para ti. ¿Podrías decirme más sobre los síntomas que estás experimentando? Es...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[must_not_contain]</strong> Agent must not confirm Muriel as a valid medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain]</strong> Agent should ask a clarifying question about the unknown medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: clarification_request (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Muriel is a typo, not a valid medication - must not be stored
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Any variation of Muriel should not be stored
                <div class="details"></div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 2 (6685ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Perdón, quise decir Omeprazol
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo, gracias por aclararlo. El Omeprazol es un medicamento comúnmente utilizado para reducir la cantidad de ácido en el estómago, y es útil para tratar condiciones como el reflujo gastroesofágico y las úlceras.\n\nDado que no tengo in...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: medication_acknowledgment (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Even after correction, Muriel should never have been stored
                <div class="details"></div>
            </div>
            
        </div>
        
            </div>
        </div>
        
        <div class="scenario  ">
            <div class="scenario-header">
                <div>
                    <strong>Muriel Typo Medication Bug</strong>
                    <span style="color: #7f8c8d; margin-left: 10px;">muriel_bug_regression</span>
                </div>
                <div>
                    <span class="badge critical">CRITICAL</span>
                    <span class="badge pass">PASS</span>
                    <span style="color: #7f8c8d; margin-left: 10px;">17.24s</span>
                </div>
            </div>
            <div class="scenario-body">
                <p><strong>Category:</strong> regression</p>
                
                
        <div class="turn ">
            <h4>Turn 1 (10017ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Estoy tomando Muriel para mi problema de estómago
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que estás tomando Muriel para tu problema de estómago. Aunque no tengo información específica sobre este medicamento, es importante seguir las indicaciones de tu médico o farmacéutico. Si experimentas algún efecto secundario o no ...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[must_not_contain]</strong> Agent must not confirm Muriel as a valid medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[must_contain]</strong> Agent should ask a clarifying question about the unknown medication
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: clarification_request (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Muriel is a typo, not a valid medication - must not be stored
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Any variation of Muriel should not be stored
                <div class="details"></div>
            </div>
            
        </div>
        
        <div class="turn ">
            <h4>Turn 2 (6811ms)</h4>
            <div class="message patient">
                <strong>Patient:</strong> Perdón, quise decir Omeprazol
            </div>
            <div class="message agent">
                <strong>Agent:</strong> ChatResponse(answer='Hola, soy Matucha, tu asistente médica. Entiendo que estás hablando sobre el Omeprazol. Es un medicamento comúnmente utilizado para tratar problemas como el reflujo ácido y las úlceras estomacales al reducir la cantidad de ácido en el estómago.\n\nSi estás considerando tomar Ome...
            </div>
            <h5>Assertions:</h5>
            
            <div class="assertion passed">
                <strong>[not_empty]</strong> Agent must provide a response
                <div class="details"></div>
            </div>
            
            <div class="assertion passed">
                <strong>[llm_judge]</strong> LLM Judge: medication_acknowledgment (Score: 0.80)
                <div class="details">Score: 4/5 - Mock evaluation - looks good!</div>
            </div>
            
            <div class="assertion passed">
                <strong>[entity_must_not_exist]</strong> Even after correction, Muriel should never have been stored
                <div class="details"></div>
            </div>
            
        </div>
        
            </div>
        </div>
        
        </div>
        <script>
            document.querySelectorAll('.scenario-header').forEach(header => {
                header.addEventListener('click', () => {
                    header.parentElement.classList.toggle('expanded');
                });
            });
            function toggleAll() {
                const scenarios = document.querySelectorAll('.scenario');
                const allExpanded = Array.from(scenarios).every(s => s.classList.contains('expanded'));
                scenarios.forEach(s => {
                    if (allExpanded) s.classList.remove('expanded');
                    else s.classList.add('expanded');
                });
            }
        </script>
        

        <footer>
            <p>Generated by SynapseFlow Evaluation Framework</p>
        </footer>
    </div>
</body>
</html>